$(function(){function a(){console.log(o),(n>=8&&"c"===o||n>=46.4&&"f"===o)&&$("table").addClass("glow")}function b(a){var b=new Date(1e3*a),c=b.getHours(),d="0"+b.getMinutes();return c+":"+d}function c(a){return Math.round(9*a/5+32)}function d(a){return Math.round(5*(a-32)/9)}function e(a){n=a,p.html(a+"&deg;"+o)}function f(){navigator.geolocation?navigator.geolocation.getCurrentPosition(g):alert("Geolocation is not supported by this browser.")}function g(a){var c={appid:l,lat:a.coords.latitude,lon:a.coords.longitude};$.ajax({type:"GET",url:"http://api.openweathermap.org/data/2.5/weather",data:c,success:function(a){n+=a.main.temp,$weather={temperature:n,temperature_measurement:o,condition:a.weather[0].main,locality:a.name,country:a.sys.country,humidity:a.main.humidity,wind:a.wind.speed,sunrise:b(a.sys.sunrise),sunset:b(a.sys.sunset)},h($weather),j($weather)},error:function(){alert("error retrieving data")}})}function h(a){var b=!1;return"undefined"!=typeof Storage?(b=!0,localStorage.temperature=a.temperature,localStorage.temperature_measurement=a.temperature_measurement,localStorage.condition=a.condition,localStorage.locality=a.locality,localStorage.country=a.country,localStorage.humidity=a.humidity,localStorage.wind=a.wind,localStorage.sunrise=a.sunrise,localStorage.sunset=a.sunset):console.log("No Web Storage support.."),b}function i(){var a=!1;return"undefined"!=typeof Storage?localStorage.temperature&&localStorage.temperature>0&&(a=!0,$weather={temperature:localStorage.temperature,temperature_measurement:localStorage.temperature_measurement,condition:localStorage.condition,locality:localStorage.locality,country:localStorage.country,humidity:localStorage.humidity,wind:localStorage.wind,sunrise:localStorage.sunrise,sunset:localStorage.sunrise},j($weather)):console.log("No Web Storage support.."),a}function j(b){m=!0,n=b.temperature,o=b.temperature_measurement,a(),condition=b.condition,locality=b.locality,country=b.country,humidity=b.humidity,wind=b.wind,sunrise=b.sunrise,sunset=b.sunset,p.html(n+"&deg;"+o),q.html(condition),r.html(locality),s.html(country),t.html(humidity+"%"),u.html(wind+" M/S"),v.html(sunrise+" am"),w.html(sunset+" pm")}function k(){$("#fcToggle").on("click",function(){var a=$(this),b=n,f=a.data("measurement");m?"f"===f?(o="c",a.text("Fahrenheight"),a.data("measurement","c"),e(d(b))):"c"===f&&(o="f",a.text("Celcius"),a.data("measurement","f"),e(c(b))):alert("Sorry, we're still fetching data...")}),i()||f()}var l="06253b1c77dc377a175cb9460e747f06",m=!1,n=-273.15,o="c",p=$("#temp"),q=$("#condition"),r=$("#locality"),s=$("#country"),t=$("#humidity"),u=$("#wind"),v=$("#sunrise"),w=$("#sunset");k()});